<style>
  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 10%;
  }
  span.blocked {
    color: #09476b;
    font-weight: bold;
    font-style: italic;
  }
  a.button.button-allow {
    border: 2px solid #09476b;
    padding: 25px 50px;
    margin-top: 25px;
    color: #09476b;
    font-weight: bold;
    cursor: pointer;
  }
  .button-allow:hover {
    color: white !important;
    background: #09476b;
  }
</style>
<div class="container">
  <img src="https://www.pluckeye.net/pluckeye.svg" alt="Pluckeye logo" />
  <div>
    <p>Sorry this page has been blocked by Pluckeye</p>
    <p>The site you were trying to access is: <span class="blocked" id="url-list"></span>
  </div>
  <p>You can click the button below to add this site to your allow list</p>
  <button class="button button-allow" id="button-allow-bp">Allow this site</a>
</div>
<script>
  var urlParams;
  (window.onpopstate = function () {
      var match,
          pl     = /\+/g,  // Regex for replacing addition symbol with a space
          search = /([^&=]+)=?([^&]*)/g,
          decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
          query  = window.location.search.substring(1);
  
      urlParams = {};
      while (match = search.exec(query))
         urlParams[decode(match[1])] = decode(match[2]);
  })();
      var url = atob(urlParams.url)
      document.getElementById('url-list').innerHTML = url
  

      /*Popup.js*/
      var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.checkStringArgs = function (a, b, c) {
    if (null == a) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
    if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
    return a + "";
};
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.defineProperty =
    $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties
        ? Object.defineProperty
        : function (a, b, c) {
              a != Array.prototype && a != Object.prototype && (a[b] = c.value);
          };
$jscomp.getGlobal = function (a) {
    return "undefined" != typeof window && window === a ? a : "undefined" != typeof global && null != global ? global : a;
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.polyfill = function (a, b, c, d) {
    if (b) {
        c = $jscomp.global;
        a = a.split(".");
        for (d = 0; d < a.length - 1; d++) {
            var e = a[d];
            e in c || (c[e] = {});
            c = c[e];
        }
        a = a[a.length - 1];
        d = c[a];
        b = b(d);
        b != d && null != b && $jscomp.defineProperty(c, a, { configurable: !0, writable: !0, value: b });
    }
};
$jscomp.polyfill(
    "String.prototype.startsWith",
    function (a) {
        return a
            ? a
            : function (a, c) {
                  var b = $jscomp.checkStringArgs(this, a, "startsWith");
                  a += "";
                  var e = b.length,
                      f = a.length;
                  c = Math.max(0, Math.min(c | 0, b.length));
                  for (var g = 0; g < f && c < e; ) if (b[c++] != a[g++]) return !1;
                  return g >= f;
              };
    },
    "es6",
    "es3"
);
var once = {},
    crippled = !1;
function withCurrentDelay(a) {
    puns.engine.delay(function (b) {
        0 > b && a(!1);
        a(new Delay(b, "seconds"));
    });
}
function onDestinaction(a) {
    var b = a.dest,
        c = a.action;
    a = getTemporalPrefix();
    var d = [];
    switch (c) {
        case "allow":
            d = a ? ["add", a + "allow " + b] : ["add", "allow " + b, "rm", "block " + b];
            break;
        case "block":
            d = a ? ["add", a + "block " + b] : ["rm", "allow " + b, "add", "block " + b];
            break;
        case "revert":
            d = ["rm", "allow " + b, "rm", "block " + b];
            break;
        default:
            bug();
    }
    puns.engine.pluckuiFancy(d, function (a) {
        a && alert("Sorry, something went wrong. " + a);
        maybeReloadCurrentTab(c, function () {
            puns.popup.closePopup();
        });
    });
}
function processUrlAction(a, b, c) {
    if (!a || 5 > a.length) throw "bad url: " + a;
    a.startsWith("http") || a.startsWith("ftp") ? ((a = UrlUtil.nonTldDomain(a)), onDestinaction({ dest: a, action: b })) : c("Bad url");
}
function maybeReloadCurrentTab(a, b) {
    "allow" === a
        ? withCurrentDelay(function (a) {
              a.isZero() ? puns.popup.reloadCurrentTab(b) : b && b();
          })
        : puns.popup.reloadCurrentTab(b);
}
function doAbort(a) {
    confirm("Are you sure you want to abort all pending rules?  Any rules you have added to Pluckeye that have not yet survived one delay period will be deleted.") &&
        puns.engine.pluckui(["abort"], function (b) {
            a(0 <= b);
        });
}
function doBlackout(a) {
    puns.engine.delay(function (b) {
        0 > b && a(!1);
        b = new Delay(b, "seconds");
        var c = getTemporalDelay();
        if (b.isZero() && c.isZero()) alert("The current delay is 0.  First select the time frame using the 'always' button.");
        else {
            var d = b.lessThan(c) ? c : b,
                e = ["add", "onetime now+" + d.toSeconds() + "s blackout"];
            b.lessThan(c) && e.push("add", "onetime now+" + d.toSeconds() + "s delay " + d.toSeconds());
            console.log(e);
            confirm("Are you sure you want to black out this computer for " + d.toString() + "?  If you click OK, the Internet will be cut off for " + d.toString() + " and this can not be undone.") &&
                puns.engine.pluckui(e, function (b) {
                    a(0 <= b);
                });
        }
    });
}
function doLockdown(a) {
    var b = getTemporalDelay();
    b.isZero() && (b = new Delay(24, "hours"));
    puns.engine.delay(function (c) {
        0 > c && a(!1);
        c = new Delay(c, "seconds");
        c.lessThan(b)
            ? confirm("Are you sure you want to lock down this computer for " + b.toString() + "?  If you click OK, the delay will increase and no further allowances will be possible for " + b.toString() + ".") &&
              puns.engine.pluckui(["add", "onetime now+" + b.toSeconds() + "s delay " + b.toSeconds()], function (b) {
                  a(0 <= b);
              })
            : alert("The current delay of " + c.toString() + " is greater than or equal to " + b.toString() + " so a lockdown would do nothing.");
    });
}
function doConfirm(a, b) {
    switch (a) {
        case "abort":
            doAbort(b);
            break;
        case "blackout":
            doBlackout(b);
            break;
        case "lockdown":
            doLockdown(b);
    }
}
function doneOrFailed(a) {
    a ? alert("done!") : alert("failed!");
}
function onButtonClick(a) {
    var b = a.currentTarget.id;
    switch (b) {
        case "allow-caret":
        case "block-caret":
        case "revert-caret":
        case "time-frame-button":
            return;
        case "allow":
        case "block":
        case "revert":
        case "button-allow-bp":
            puns.popup.salientUrl(function (a) {
                processUrlAction(a, b, function () {
                    maybeReloadCurrentTab(b, function () {
                        puns.popup.closePopup();
                    });
                });
            });
            return;
        case "refresh":
            puns.engine.refresh();
            break;
        case "abort":
            doAbort(doneOrFailed);
            break;
        case "blackout":
            doBlackout(doneOrFailed);
            break;
        case "lockdown":
            doLockdown(doneOrFailed);
            break;
        default:
            console.log(b);
    }
    puns.popup.closePopup();
}
function bootstrapify() {
    $("button").attr("type", "button");
    $("button").addClass("btn btn-default");
    $("a").addClass("btn btn-default");
}
function initDropdown(a) {
    var b = $("#" + a + "-btn-group ul").get(0);
    b &&
        puns.popup.salientUrl(function (c) {
            (c.startsWith("http") || c.startsWith("ftp")) &&
                urlDropdownListItems(c, document, a, onDestinaction).forEach(function (a) {
                    b.appendChild(a);
                });
        });
}
function removeChildren(a) {
    for (; a.firstChild; ) a.removeChild(a.firstChild);
}
function appendChildren(a, b) {
    b.forEach(function (b) {
        a.appendChild(b);
    });
}
var timeFrames = "always 1m 10m 30m 2h 4h 1d".split(" ");
function timeFramePretty(a) {
    var b = a.substr(0, a.length - 1),
        c = 0 == b ? "" : "s";
    switch (a[a.length - 1]) {
        case "m":
            return b + " minute" + c;
        case "h":
            return b + " hour" + c;
        case "d":
            return b + " day" + c;
    }
    return a;
}
function getTemporalDelay() {
    var a = document.getElementById("time-frame-text");
    if ("always" === a.textContent) return new Delay(0);
    for (var b = 0; b < timeFrames.length; ++b) {
        var c = timeFrames[b];
        if (timeFramePretty(c) === a.textContent) return new Delay(c);
    }
    return new Delay(0);
}
function getTemporalPrefix() {
    var a = document.getElementById("time-frame-text");
    if ("always" === a.textContent) return "";
    for (var b = 0; b < timeFrames.length; ++b) {
        var c = timeFrames[b];
        if (timeFramePretty(c) === a.textContent) return "onetime now+" + c + " ";
    }
    return "";
}
function initTimeFrameDropdown() {
    var a = document.getElementById("time-frame-dropdown"),
        b = document.getElementById("time-frame-text");
    a.getElementsByTagName("span");
    var c = a.getElementsByTagName("button")[0];
    c.dataset.title = c.dataset.title || c.title;
    a = a.getElementsByClassName("dropdown-menu")[0];
    var d = timeFrames.map(function (a) {
        var d = timeFramePretty(a);
        a = document.createElement("a");
        a.href = "#";
        a.textContent = d;
        a.title = "Set time frame for allow, block, and revert to " + d + ".";
        a.addEventListener("click", function (a) {
            a.preventDefault();
            b.textContent = a.currentTarget.textContent;
            "always" === b.textContent
                ? ((c.title = c.dataset.title), c.classList.remove("plucki-flashing"))
                : ((c.title = "Temporarily allow or block sites for " + b.textContent + ".  This changes the behavior of the allow, block, and revert buttons above.  Note that the time frame does not begin until after the delay elapses."),
                  c.classList.add("plucki-flashing"));
        });
        d = document.createElement("li");
        d.appendChild(a);
        return d;
    });
    removeChildren(a);
    appendChildren(a, d);
}
function initDropdowns() {
    ["allow", "block", "revert"].forEach(function (a) {
        initDropdown(a);
    });
    initTimeFrameDropdown();
}
function initExpedite() {
    var a = $("#expedite").get(0);
    puns.engine.delay(function (b) {
        var c = puns.engine.expeditable();
        c
            ? (a.href += "?delay\x3d" + b + "\x26patch\x3d" + encodeURIComponent(c.join("\n")))
            : puns.popup.currentUrl(function (c) {
                  a.href += "?delay\x3d" + b + "\x26url\x3d" + encodeURIComponent(c);
              });
    });
    puns.engine.approvalsEnabled(function (b) {
        b && !crippled ? $(a).show() : $(a).hide();
    });
}
function closeWhenUrlChanges(a) {
    a
        ? puns.popup.currentUrl(function (b) {
              a !== b
                  ? puns.popup.closePopup()
                  : setTimeout(function () {
                        closeWhenUrlChanges(a);
                    }, 300);
          })
        : puns.popup.currentUrl(function (a) {
              a && closeWhenUrlChanges(a);
          });
}
function initButtons() {
    once.initButtons || ($("button").on("click", onButtonClick), initDropdowns(), initExpedite(), (once.initButtons = !0));
}
function initDelay() {
    puns.engine.delay(function (a) {
        var b = document.getElementById("delay");
        a = new Delay(a, "seconds").toCanonical();
        b.textContent = a.toString();
    });
}
function initLevel() {
    puns.engine.installationLevel(function (a) {
        2 > a &&
            puns.storage.get({ hideLowLevelWarning: !1 }, function (b) {
                b.hideLowLevelWarning ||
                    ((b = document.getElementById("settings")),
                    b.classList.add("plucki-flashing"),
                    (b.title = "You are at level " + a + ".  Pluckeye users should usually use level 2.  Click the settings button to learn about and change installation levels."));
            });
    });
}
function initTooltips() {
    puns.popup.salientUrl(function (a) {
        if (a) {
            var b = UrlUtil.nonTldDomain(a);
            b &&
                $("[title]").each(function (a, d) {
                    (a = $(d).attr("title")) && $(d).attr("title", a.replace("the current site", b));
                });
            $("[title]").tooltip({ delay: { show: 1e3, hide: 100 }, container: "body", placement: "auto" });
        }
    });
}
function initLate() {
    setTimeout(function () {
        initDelay();
        initLevel();
        initTooltips();
    }, 100);
}
function initIfPluckeye(a) {
    a && (initButtons(), initLate());
    a ? $(".level1plus").show() : $(".level1plus").hide();
}
function glyphiconReplace(a, b) {
    if (b.startsWith("glyphicon-"))
        for (var c = 0; c < a.childNodes.length; ++c) {
            var d = a.childNodes[c];
            if (d.classList) {
                for (var e = 0; e < d.classList.length; ++e) {
                    var f = d.classList.item(e);
                    f.startsWith("glyphicon-") && (d.classList.remove(f), --e);
                }
                d.classList.contains("glyphicon") && d.classList.add(b);
            }
        }
}
function cripple() {
    crippled = !0;
    $(".level1plus").hide();
    $("#settings").show();
}
function addMessages(a) {
    var b = document.getElementById("message-template");
    a.forEach(function (a, d) {
        var c = b.cloneNode(!0),
            f = "message";
        a.cripple && cripple();
        a.url &&
            ((c.href = a.url),
            a.note && (c.title = a.note),
            a.word && (f = a.word),
            a.icon && glyphiconReplace(c, a.icon),
            c.appendChild(document.createTextNode(f)),
            (c.id = "message-" + d),
            a.read || c.classList.add("plucki-flashing"),
            c.addEventListener("click", function (b) {
                a.read = !0;
                c.classList.remove("plucki-flashing");
            }),
            document.getElementById("messages-div").appendChild(c));
    });
    a.forEach(function (a, b) {
        a.open && (puns.home.box.openCount || (puns.home.box.openCount = 0), 1 > puns.home.box.openCount++ && (puns.tabs.create({ url: a.open }), puns.home.fetch({})));
    });
}
function processMessages(a) {
    addMessages(a.slice(0, 3));
}
$(function () {
    closeWhenUrlChanges();
    bootstrapify();
    puns.engine.isInstalled(initIfPluckeye);
    puns.home.box({}, function (a) {
        processMessages(a);
    });
    chrome.browserAction.setBadgeText({ text: "" });
});

</script>